(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,a){e.exports=a(142)},142:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=a(7),l=a(184),m=a(197),s=a(198),u=a(66),d=a(204),g=a(186),p=a(16),h=a(12),f=a(203),E=a(187),b=a(188),v=a(20),y=a.n(v),w=a(207),S=a(205),k=a(183),x=function(e){return e.message?r.a.createElement(w.a,{autoHideDuration:e.autoHideDuration||5e3,open:!!e.message,onClose:function(){e.setMessage("")},onExited:function(){e.setMessage("")},message:e.message},r.a.createElement(S.a,{variant:e.variant,severity:e.message.endsWith("&severity=success")?"success":e.severity},e.title&&r.a.createElement(k.a,null,e.title),e.message.endsWith("&severity=success")?e.message.substring(0,e.message.length-"&severity=success".length):e.message)):null},O=a(34),j=a(185),I=Object(l.a)((function(e){return{paper:function(t){return Object(O.a)({marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},function(t){return t.paperStyles?t.paperStyles(e):void 0}(t))},container:function(t){return Object(O.a)({},function(t){return t.containerStyles?t.containerStyles(e):void 0}(t))}}})),N=function(e){var t=I(e);return r.a.createElement(j.a,{component:"main",className:t.container,maxWidth:void 0!==e.maxWidth?e.maxWidth:"xs"},r.a.createElement("div",{className:t.paper},e.children))},C=Object(l.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},extraInfo:{color:e.palette.info.main}}})),W=function(e){var t=e.setHasLoginToken,a=C(),n=r.a.useState(""),i=Object(c.a)(n,2),o=i[0],l=i[1],m=r.a.useState(""),s=Object(c.a)(m,2),d=s[0],p=s[1],v=r.a.useState(""),w=Object(c.a)(v,2),S=w[0],k=w[1],O=Object(h.f)();return r.a.createElement(N,{maxWidth:"xs"},r.a.createElement(u.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){var a;e.preventDefault(),o?d?(a={email:o,password:d},y.a.post("".concat("/api","/login"),a)).then((function(e){var a=e.data;window.localStorage.setItem("login_token",a.token),l(""),p(""),t(!0),O.push("/myitems")})).catch((function(e){if(e.response){var t=e.response.status;k(401===t?"Bad credentials":"Error code ".concat(t))}})):k("Can't have empty password"):k("Can't have empty email")}},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",onChange:function(e){return l(e.target.value)},value:o,autoFocus:!0,color:"secondary"}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:d,label:"Password",onChange:function(e){return p(e.target.value)},type:"password",color:"secondary"}),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:!0}),r.a.createElement(E.a,{item:!0},r.a.createElement(b.a,{onClick:function(){return O.push("/register")},variant:"body2",className:a.extraInfo},"Don't have an account? Sign Up")))),r.a.createElement(x,{severity:"error",message:S,setMessage:k}))},T=a(189),D=Object(l.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},extraInfo:{color:e.palette.info.main},popper:{border:"1px solid",margin:e.spacing(1),padding:e.spacing(1),backgroundColor:e.palette.background.paper}}})),F=function(e){var t=e.setHasLoginToken,a=r.a.useState(""),n=Object(c.a)(a,2),i=n[0],o=n[1],l=r.a.useState(""),m=Object(c.a)(l,2),s=m[0],d=m[1],p=r.a.useState(""),v=Object(c.a)(p,2),w=v[0],S=v[1],k=r.a.useState(""),O=Object(c.a)(k,2),j=O[0],I=O[1],C=r.a.useState(null),W=Object(c.a)(C,2),F=W[0],B=W[1],M=Object(h.f)(),z=D(),U=function(){var e=[];return w.toLowerCase()===w&&e.push(r.a.createElement(u.a,{variant:"subtitle2",component:"p",key:"no upper case"},"Needs an uppercase letter.")),(w.length<8||w.length>40)&&e.push(r.a.createElement(u.a,{variant:"subtitle2",component:"p",key:"too short or too long"},"Must be between 8 to 40 characters.")),w.match(/[#?!@$%^&*-]/)||e.push(r.a.createElement(u.a,{variant:"subtitle2",component:"p",key:"no symbol"},"Contains one of the following: #?!@$%^&*-")),/\d/.test(w)||e.push(r.a.createElement(u.a,{variant:"subtitle2",component:"p",key:"no number"},"Needs at least 1 number.")),e};return r.a.createElement(N,{maxWidth:"xs"},r.a.createElement(u.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:z.form,noValidate:!0,onSubmit:function(e){var a;e.preventDefault(),i?s?0!==U().length?I("Password does not satisfy requirements"):!/.+@.+/.test(s)||s.length>100?I("Invalid email"):(a={username:i,email:s,password:w},y.a.post("".concat("/api","/register"),a)).then((function(e){window.localStorage.setItem("login_token",e.data.token),d(""),S(""),o(""),t(!0),M.push("/myitems")})).catch((function(e){if(e.response){var t=e.response.status;I("Error code ".concat(t,". The email might already be taken."))}})):I("Missing email"):I("Missing name")}},r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Display name",autoFocus:!0,color:"secondary",value:i,onChange:function(e){return o(e.target.value.trim())}})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email Address",color:"secondary",value:s,onChange:function(e){return d(e.target.value.trim())}})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Password",type:"password",color:"secondary",onFocus:function(e){return B(e.currentTarget)},onBlur:function(){return B(null)},value:w,onChange:function(e){return S(e.target.value)}}))),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:z.submit},"Sign Up"),r.a.createElement(E.a,{container:!0,justify:"flex-end"},r.a.createElement(E.a,{item:!0},r.a.createElement(b.a,{onClick:function(){return M.push("/login")},variant:"body2",className:z.extraInfo},"Already have an account? Sign in")))),r.a.createElement(T.a,{open:!!F&&!!U().length,anchorEl:F,placement:"left",className:z.popper},U()),r.a.createElement(x,{message:j,severity:"error",setMessage:I}))},B=a(190),M=a(191),z=a(192),U=function(e){return y.a.get("".concat("/api/template","/").concat(e),{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}})},A=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),marginLeft:e.spacing(2),marginRight:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},root:{height:"100%"},title:{textAlign:"center"},content:{width:"100%"},button:{marginBottom:e.spacing(2)},img:{maxHeight:400,width:"100%"},container:{display:"grid"}}})),H=function(e){var t=e.match,a=A(),n=r.a.useState([]),i=Object(c.a)(n,2),o=i[0],l=i[1];return r.a.useEffect((function(){y.a.get("/api/template",{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}}).then((function(e){var t=e.data;l(t)}))}),[]),r.a.createElement(j.a,{component:"main",maxWidth:!1,className:a.container},r.a.createElement("div",{className:a.paper},r.a.createElement(E.a,{container:!0,spacing:2,justify:"flex-start",alignItems:"stretch"},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,{component:"h1",variant:"h5"},"Your Templates")),o.map((function(e){var n=e.id,i=e.title,o=e.imageUrl;return r.a.createElement(E.a,{item:!0,xs:5,sm:4,md:3,lg:2,key:n},r.a.createElement(B.a,{variant:"elevation",elevation:5,className:a.root},r.a.createElement(p.b,{to:"".concat(t.path,"/").concat(n),style:{textDecoration:"none",color:"#FFF"},tabIndex:-1},r.a.createElement(M.a,{style:{height:"100%"}},o&&r.a.createElement("img",{src:o,alt:i,className:a.img}),r.a.createElement(z.a,{style:{outline:"none"}},r.a.createElement(u.a,{className:a.title,color:"textPrimary",variant:"h6",component:"h2",noWrap:!0,style:{alignSelf:"flex-end"}},i))))))})))))},P=function(){return r.a.createElement(N,{maxWidth:"md"},r.a.createElement(u.a,{component:"h2",variant:"h6"},"What this is about"),r.a.createElement(u.a,{component:"h2",variant:"body1",style:{width:"100%"},align:"left"},"This website allows users to create a list of related images and/or item names and provides an easy way for the user to sort it."),r.a.createElement("br",null),r.a.createElement(u.a,{component:"h2",variant:"h6"},"How it works"),r.a.createElement(u.a,{component:"h2",variant:"body1",align:"left",style:{width:"100%"}},"This website allows users to upload images or input item names. An Elo system is used to determine the ranking of each item on the list. Two random items on the list are chosen and you get to choose which one is better. As you continue to rank items, the Elo of each item becomes more representatitve of what you intended it to be."),r.a.createElement("br",null),r.a.createElement(u.a,{component:"h2",variant:"h6"},"How to get started"),r.a.createElement(u.a,{component:"h2",variant:"body1",align:"left",style:{width:"100%"}},"Make an account \u2192 create template \u2192 add items \u2192 edit items if needed \u2192 start ranking \u2192 view rankings"))},L=a(42),_=(a(90),a(91),a(60)),R=a.n(_),q=a(61),V=a.n(q),G=a(62),Y=a.n(G),J=a(63),$=a.n(J),K=a(64),Q=a.n(K);Object(L.registerPlugin)(V.a,R.a,Y.a,$.a,Q.a);var X=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)}}})),Z=function(e){var t=e.id,a=e.returnUrl,n=e.setOpen,i=Object(h.f)(),o=X(),l=r.a.useState([]),m=Object(c.a)(l,2),s=m[0],d=m[1],p=r.a.useState(""),b=Object(c.a)(p,2),v=b[0],w=b[1],S=r.a.useState(""),k=Object(c.a)(S,2),O=k[0],j=k[1];return r.a.createElement(N,{maxWidth:"md"},r.a.createElement(u.a,{component:"h1",variant:"h5"},"Add Items"),r.a.createElement(u.a,{component:"p",variant:"subtitle1"},"An item can either be an image or just plain text. For uploading an image, the name of that image item is the file name of the image. The name of an item automatically gets truncated down to a maximum of 40 characters."),r.a.createElement("form",{className:o.form,noValidate:!0,onSubmit:function(e){var a;(e.preventDefault(),0!==s.length||0!==O.trim().length)?(a={id:t,images:s.map((function(e){return{imgStringBase64:"data:".concat(e.fileType,";base64,").concat(e.getFileEncodeBase64String()),name:e.filenameWithoutExtension.substring(0,40)}})).concat(O.trim().split("\n").filter((function(e){return e.trim()})).map((function(e){return{imgStringBase64:"",name:e.substring(0,40)}})))},y.a.post("".concat("/api/template","/").concat(a.id),{images:a.images},{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}})).then((function(){d([]),j(""),w("Successfully added the item(s)&severity=success")})).catch((function(e){if(e.response){var t=e.response.status;w("Error code ".concat(t,"."))}})):w("No items added")}},r.a.createElement(E.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,{component:"p",variant:"subtitle1"},"Add image items"),r.a.createElement(L.FilePond,{files:s,imagePreviewHeight:150,imagePreviewMaxFileSize:"1MB",imageResizeMode:"cover",acceptedFileTypes:["image/*"],allowMultiple:!0,getFileEncodeBase64String:!0,onupdatefiles:function(e){return d(e)}})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,{component:"p",variant:"subtitle1"},"Add text items"),r.a.createElement(f.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:5,label:"Item names",placeholder:"Put each item on a new line",onChange:function(e){return j(e.target.value)},value:O,color:"secondary"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Add Items")),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){s.length||0!==O.trim().length?w("Add or remove all items before finishing"):(n&&n(!1),a&&i.push(a))}},"Finish")))),r.a.createElement(x,{severity:"error",message:v,setMessage:w}))};Object(L.registerPlugin)(V.a,R.a,Y.a,$.a,Q.a);var ee=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)}}})),te=function(){var e=ee(),t=r.a.useState(""),a=Object(c.a)(t,2),n=a[0],i=a[1],o=r.a.useState(""),l=Object(c.a)(o,2),m=l[0],s=l[1],d=r.a.useState(""),p=Object(c.a)(d,2),h=p[0],b=p[1],v=r.a.useState(null),w=Object(c.a)(v,2),S=w[0],k=w[1],O=r.a.useState(""),j=Object(c.a)(O,2),I=j[0],C=j[1];return I?r.a.createElement(Z,{id:I,returnUrl:"/myitems/".concat(I)}):r.a.createElement(N,{maxWidth:"xs"},r.a.createElement(u.a,{component:"h1",variant:"h5"},"Create a Template"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){var t;(e.preventDefault(),n)?(t={title:n,info:m,imgStringBase64:S?"data:".concat(S.fileType,";base64,").concat(S.getFileEncodeBase64String()):""},y.a.post("/api/template",t,{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}})).then((function(e){var t=e.data;C(t.id),i(""),s(""),k(null)})).catch((function(e){if(e.response){var t=e.response.status;b(401===t?"You need to be logged in to make a template":"Error code ".concat(t,". Do you have a template with the same title?"))}})):b("Template name cannot be empty")}},r.a.createElement(E.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Title (".concat(50-n.length," characters remaining)"),onChange:function(e){return i(e.target.value.substring(0,50))},value:n,autoFocus:!0,color:"secondary"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",fullWidth:!0,value:m,label:"Description (".concat(300-m.length," characters remaining)"),placeholder:"300 characters max",onChange:function(e){return s(e.target.value.substring(0,300))},color:"secondary",rows:7,rowsMax:10,multiline:!0})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,{component:"p",variant:"subtitle1"},"Upload Template Image (Optional)"),r.a.createElement(L.FilePond,{files:S?[S]:[],imagePreviewHeight:300,imagePreviewMaxFileSize:"2MB",imageResizeMode:"cover",acceptedFileTypes:["image/*"],allowMultiple:!1,getFileEncodeBase64String:!0,onupdatefiles:function(e){e.length&&k(e[0])}})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Next Step")))),r.a.createElement(x,{severity:"error",message:h,setMessage:b}))},ae=a(103),ne=a(209),re=a(182),ie=a(70),oe=a.n(ie),ce=a(101),le=a.n(ce),me=a(98),se=a.n(me),ue=a(100),de=a.n(ue),ge=a(208),pe=a(196),he=a(194),fe=a(195),Ee=a(193),be=Object(l.a)((function(e){return{button:{color:e.palette.info.main}}})),ve=function(e){var t=be();return r.a.createElement("div",null,r.a.createElement(ge.a,{open:e.open,onClose:function(){return e.setOpen(!0)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},e.title&&r.a.createElement(Ee.a,{id:"alert-dialog-title"},e.title),e.desc&&r.a.createElement(he.a,null,r.a.createElement(fe.a,{id:"alert-dialog-description"},e.desc)),r.a.createElement(pe.a,null,r.a.createElement(g.a,{onClick:function(){return e.setOpen(!1)},className:t.button},e.rejectButtonDesc),r.a.createElement(g.a,{onClick:function(){e.onAccept(),e.setOpen(!0)},className:t.button,autoFocus:!0},e.acceptButtonDesc))))},ye=a(99),we=a.n(ye),Se=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},root:{height:"100%"},titleInput:{width:"50%"},descInput:{width:"50%"},button:{marginBottom:e.spacing(2)},active:{color:e.palette.info.main},iconBar:{display:"grid",justifyContent:"center",gridAutoFlow:"column"},delete:{color:e.palette.warning.main}}})),ke=function(e){var t=e.match.params.id,a=Se(),n=Object(h.f)(),i=r.a.useState({templateImageUrl:"",createdOn:"",lastUpdated:""}),o=Object(c.a)(i,2),l=o[0],m=o[1],s=r.a.useState("Loading..."),d=Object(c.a)(s,2),g=d[0],p=d[1],b=r.a.useState("Loading..."),v=Object(c.a)(b,2),w=v[0],S=v[1],k=r.a.useState([]),j=Object(c.a)(k,2),I=j[0],C=j[1],W=r.a.useState(!1),T=Object(c.a)(W,2),D=T[0],F=T[1],M=r.a.useState(!1),A=Object(c.a)(M,2),H=A[0],P=A[1],L=r.a.useState(!1),_=Object(c.a)(L,2),R=_[0],q=_[1],V=r.a.useState(new Set),G=Object(c.a)(V,2),Y=G[0],J=G[1],$=r.a.useState(""),K=Object(c.a)($,2),Q=K[0],X=K[1];return r.a.useEffect((function(){U(t).then((function(e){var t=e.data;m({templateImageUrl:t.templateImageUrl,createdOn:t.createdOn,lastUpdated:t.lastUpdated}),p(t.title),S(t.info),C(t.items)}))}),[R,t]),R?r.a.createElement(Z,{id:t,setOpen:q}):r.a.createElement(N,{maxWidth:!1,paperStyles:function(e){return{marginLeft:e.spacing(8),marginRight:e.spacing(2)}},containerStyles:function(e){return{display:"grid"}}},r.a.createElement(E.a,{container:!0,spacing:2,justify:"flex-start"},r.a.createElement(E.a,{item:!0,xs:12,className:a.iconBar},r.a.createElement(ne.a,{title:"Rank the items"},r.a.createElement(re.a,{"aria-label":"rank the items",onClick:function(){I.length>=2?n.push("/play/".concat(t)):X("Need at least two items to start ranking")}},r.a.createElement(se.a,{fontSize:"large"}))),r.a.createElement(ne.a,{title:"Show rankings"},r.a.createElement(re.a,{"aria-label":"rankings of items",onClick:function(){return n.push("/rankings/".concat(t))}},r.a.createElement(we.a,{fontSize:"large"}))),r.a.createElement(ne.a,{title:"Add new items"},r.a.createElement(re.a,{"aria-label":"add new items",onClick:function(){return q(!0)}},r.a.createElement(de.a,{fontSize:"large"}))),r.a.createElement(ne.a,{title:"Delete this template"},r.a.createElement(re.a,{"aria-label":"delete template",onClick:function(){return F(!0)}},r.a.createElement(oe.a,{fontSize:"large"}))),r.a.createElement(ne.a,{title:"Edit this template"},r.a.createElement(re.a,{"aria-label":"edit template",onClick:function(){H&&(I.forEach((function(e){var t,a;Y.has(e.id)?function(e){y.a.delete("".concat("/api/template","/item/").concat(e),{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}})}(e.id):(t=e.id,a=e.name,y.a.put("".concat("/api/template","/item/").concat(t),{name:a},{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}}))})),function(e,t,a){return y.a.put("".concat("/api/template","/").concat(e),{title:t,info:a},{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}})}(t,g,w).then((function(e){var t=e.data;m(Object(O.a)(Object(O.a)({},l),{},{lastUpdated:t.updatedTime}))}))),P(!H)}},r.a.createElement(le.a,{fontSize:"large",className:H&&a.active||void 0})))),H&&r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,null,r.a.createElement("b",null,"Press the edit button again to save"))),r.a.createElement(E.a,{item:!0,xs:12},H?r.a.createElement(f.a,{variant:"outlined",label:"Title",className:a.titleInput,onBlur:function(e){return p(e.target.value)},onChange:function(e){return e.target.value=e.target.value.substring(0,50)},defaultValue:g,color:"secondary"}):r.a.createElement(u.a,{component:"h1",variant:"h4",noWrap:!0},g)),r.a.createElement(E.a,{item:!0,xs:12},H&&r.a.createElement(f.a,{variant:"outlined",label:"Description",className:a.descInput,fullWidth:!0,multiline:!0,rows:5,onBlur:function(e){return S(e.target.value)},onChange:function(e){return e.target.value=e.target.value.substring(0,300)},defaultValue:w,color:"secondary"}),!H&&w.trim()&&r.a.createElement(u.a,{component:"p",variant:"body1",style:{wordWrap:"break-word"}},r.a.createElement("b",null,"Description: "),w),!H&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{component:"p",variant:"body1"},r.a.createElement("b",null,"Created On:")," ",new Date(l.createdOn).toString()),r.a.createElement(u.a,{component:"p",variant:"body1"},r.a.createElement("b",null,"Last Updated:")," ",new Date(l.lastUpdated).toString()))),I.filter((function(e){var t=e.id;return!Y.has(t)})).map((function(e,t){var n=e.id,i=e.itemImageUrl,o=e.name;return r.a.createElement(E.a,{item:!0,xs:5,sm:4,md:3,lg:2,key:n},r.a.createElement(B.a,{variant:"elevation",elevation:5,className:a.root},r.a.createElement(z.a,null,H?r.a.createElement(f.a,{key:n,variant:"outlined",label:"Name",className:a.descInput,style:{width:"100%"},onBlur:function(e){var a=Object(ae.a)(I);a[t]=Object(O.a)(Object(O.a)({},a[t]),{},{name:e.target.value}),C(a)},onChange:function(e){return e.target.value=e.target.value.substring(0,40)},defaultValue:o,color:"secondary"}):r.a.createElement(u.a,{component:"h4",variant:"body1",noWrap:!0},o)),i&&r.a.createElement("img",{alt:o,src:i,style:{maxHeight:400,width:"100%"}}),H&&r.a.createElement(ne.a,{title:"Delete this item"},r.a.createElement(re.a,{"aria-label":"delete item",onClick:function(){var e=new Set(Y);e.add(n),J(e)},style:{display:"block",margin:"auto",position:"relative"}},r.a.createElement(oe.a,{className:a.delete})))))}))),r.a.createElement(ve,{title:"Delete this template",acceptButtonDesc:"OK",rejectButtonDesc:"Go back",open:D,setOpen:F,onAccept:function(){var e;(e=t,y.a.delete("".concat("/api/template","/").concat(e),{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}})).then((function(){return n.push("/myitems")}))}}),r.a.createElement(x,{message:Q,setMessage:X,severity:"error"}))},xe=Object(l.a)((function(e){return{root:{height:"100%",minHeight:400},border:{height:"100%"},title:{marginBottom:e.spacing(5)},buttons:{marginTop:e.spacing(6)},button:{margin:e.spacing(2)}}})),Oe=function(e){var t=e.match.params.id,a=r.a.useState([]),n=Object(c.a)(a,2),i=n[0],o=n[1],l=r.a.useState(null),m=Object(c.a)(l,2),s=m[0],p=m[1],f=r.a.useState(""),b=Object(c.a)(f,2),v=b[0],w=b[1],S=r.a.useState(!1),k=Object(c.a)(S,2),x=k[0],O=k[1],j=xe(),I=Object(h.f)(),C=function(e){var t;if((t=e?e.items:s.items).length<2)w("Need at least two items to start ranking");else{for(var a=t[~~(Math.random()*t.length)],n=t[~~(Math.random()*t.length)];n.id===a.id;)n=t[~~(Math.random()*t.length)];o([a,n])}};r.a.useEffect((function(){U(t).then((function(e){var t=e.data;p(t),C(t)})).catch((function(){return w("Could not get template")}))}),[t]);var W=function(e){return function(){if(O(!0),i.length>1){var a=e,n=i[0].id===a?i[0].id:i[1].id;(function(e,t,a){return y.a.post("".concat("/api/play","/").concat(e),{won:t,lost:a},{headers:{authorization:"bearer ".concat(window.localStorage.getItem("login_token"))}})})(t,a,n).then((function(){C(),O(!1)})).catch((function(){return w("This template cannot be ranked")}))}}};return r.a.createElement(N,{maxWidth:"xl"},v?r.a.createElement(u.a,{component:"h2",variant:"h3"},v):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{component:"h2",variant:"h4",className:j.title},"Click the one you think is better (More accurate rank as you play more)"),!x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{container:!0,spacing:6,justify:"flex-start"},i.map((function(e){var t=e.id,a=e.itemImageUrl,n=e.name;return r.a.createElement(E.a,{item:!0,xs:12,md:6,key:t},r.a.createElement(d.a,{className:j.border,border:2},r.a.createElement(B.a,{variant:"elevation",elevation:5,className:j.root,style:{height:"50vh"}},r.a.createElement(M.a,{style:{height:"100%"},onClick:W(t)},a&&r.a.createElement("img",{alt:n,src:a,style:{maxHeight:"50vh",display:"block",margin:"auto"}}),!a&&r.a.createElement(u.a,{align:"center",component:"h3",variant:"h2",style:{wordWrap:"break-word"}},n)))))}))),r.a.createElement(d.a,{component:"span",className:j.buttons},r.a.createElement(g.a,{variant:"contained",color:"secondary",size:"large",className:j.button,onClick:function(){return I.push("/myitems/".concat(t))}},"Go back to template"),r.a.createElement(g.a,{variant:"contained",color:"secondary",size:"large",className:j.button,onClick:function(){return I.push("/rankings/".concat(t))}},"Show Ranking")))))},je=Object(l.a)((function(e){return{title:{marginBottom:e.spacing(3)},cardInfo:{display:"flex",flexDirection:"column"},card:{background:e.palette.primary.main},button:{margin:e.spacing(2)}}})),Ie=function(e){var t=e.match,a=je(),n=Object(h.f)(),i=t.params.id,o=r.a.useState(null),l=Object(c.a)(o,2),m=l[0],s=l[1],p=r.a.useState(""),f=Object(c.a)(p,2),E=f[0],b=f[1];return r.a.useEffect((function(){U(i).then((function(e){var t=e.data;t.items.sort((function(e,t){return e.elo<t.elo?1:-1})),s(t)})).catch((function(){b("Could not get template rankings")}))}),[i]),r.a.createElement(N,{maxWidth:"lg"},m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{component:"h2",variant:"h3",className:a.title},m.title),r.a.createElement(g.a,{variant:"contained",color:"secondary",size:"large",className:a.button,onClick:function(){return n.push("/myitems/".concat(i))}},"Go back to template"),r.a.createElement(d.a,null,m.items.map((function(e,t){var n=e.id,i=e.name,o=e.itemImageUrl,c=e.elo;return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(B.a,{variant:"elevation",elevation:5,style:{display:"flex"},className:a.card},r.a.createElement(z.a,{className:a.cardInfo},r.a.createElement(u.a,{component:"h3",variant:"body1"},r.a.createElement("b",null,"Rank: ",t+1)),r.a.createElement(u.a,{component:"h3",variant:"body1"},"Name: ",i),r.a.createElement(u.a,{component:"h3",variant:"body1"},"Elo: ",c)),o&&r.a.createElement("img",{alt:i,src:o,style:{maxHeight:"30vh"}})),r.a.createElement("br",null))})))),r.a.createElement(x,{message:E,setMessage:b}))},Ne=Object(l.a)((function(e){return{title:{flexGrow:1},logout:{background:e.palette.warning.main}}})),Ce=function(){var e=Ne(),t=r.a.useState(!!window.localStorage.getItem("login_token")),a=Object(c.a)(t,2),n=a[0],i=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{position:"static"},r.a.createElement(s.a,{component:"nav"},r.a.createElement(u.a,{variant:"h5",className:e.title},document.title),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{to:"/create",style:{textDecoration:"none"},tabIndex:-1},r.a.createElement(g.a,{variant:"outlined"},"Create Template")),r.a.createElement(d.a,{pl:2},r.a.createElement(p.b,{to:"/myitems",style:{textDecoration:"none"},tabIndex:-1},r.a.createElement(g.a,{variant:"outlined"},"Your Templates"))),r.a.createElement(d.a,{pl:2},r.a.createElement(p.b,{to:"/",style:{textDecoration:"none"},tabIndex:-1},r.a.createElement(g.a,{variant:"outlined",className:e.logout,onClick:function(){window.localStorage.clear(),i(!1)}},"Logout")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{pl:2},r.a.createElement(p.b,{to:"/login",style:{textDecoration:"none"},tabIndex:-1},r.a.createElement(g.a,{variant:"outlined"},"Login"))),r.a.createElement(d.a,{pl:2},r.a.createElement(p.b,{to:"/register",style:{textDecoration:"none"},tabIndex:-1},r.a.createElement(g.a,{variant:"outlined"},"Register")))))),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/login",component:function(){return r.a.createElement(W,{setHasLoginToken:i})}}),r.a.createElement(h.a,{path:"/register",component:function(){return r.a.createElement(F,{setHasLoginToken:i})}}),r.a.createElement(h.a,{path:"/myitems/:id",component:ke}),r.a.createElement(h.a,{path:"/myitems",component:H}),r.a.createElement(h.a,{path:"/create",component:te}),r.a.createElement(h.a,{path:"/play/:id",component:Oe}),r.a.createElement(h.a,{path:"/rankings/:id",component:Ie}),r.a.createElement(h.a,{path:"/",component:P})))},We=a(201),Te=a(202),De=a(102),Fe=a(199),Be=a(200),Me=a(65),ze=Object(De.a)({palette:{type:"dark",primary:{main:Fe.a[900]},secondary:{main:Fe.a[600]},background:{paper:"#2c2c3c",default:"#1c1c1e"},info:{main:Be.a[900]},warning:{main:Me.a[900]}}});document.title="EloSort",o.a.render(r.a.createElement(p.a,null,r.a.createElement(We.a,{theme:ze},r.a.createElement(Te.a,null),r.a.createElement(Ce,null))),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.571035f5.chunk.js.map